# ğŸ“± BERRÄª Document Scanner

## ÃttekintÃ©s

A BERRÄª Document Scanner egy professzionÃ¡lis mobil alkalmazÃ¡s, amely valÃ³s idÅ‘ben detektÃ¡lja Ã©s szkenneli a BERRÄª fÃ¼zeteket. Az alkalmazÃ¡s automatikusan felismeri a fÃ¼zet keretÃ©t, QR kÃ³dot detektÃ¡l, Ã©s professzionÃ¡lis minÅ‘sÃ©gÅ± szkennelt kÃ©pet kÃ©szÃ­t a fÃ¼zetoldalakrÃ³l.

---

## âœ¨ FÅ‘bb FunkciÃ³k

### 1. ğŸ¯ Automatikus Dokumentum DetektÃ¡lÃ¡s
- **ValÃ³s idejÅ± keresÃ©s**: Az alkalmazÃ¡s folyamatosan keresi a BERRÄª fÃ¼zet keretÃ©t
- **Intelligens sarok detektÃ¡lÃ¡s**: Automatikusan megtalÃ¡lja a fÃ¼zet 4 sarkÃ¡t
- **VizuÃ¡lis visszajelzÃ©s**: ZÃ¶ld kontÃºr jelzi a detektÃ¡lt dokumentumot
- **Konfidencia jelzÃ©s**: SzÃ¡zalÃ©kos visszajelzÃ©s a detektÃ¡lÃ¡s minÅ‘sÃ©gÃ©rÅ‘l

### 2. ğŸ“ QR KÃ³d PozÃ­cionÃ¡lÃ¡s
- **Automatikus QR felismerÃ©s**: DetektÃ¡lja a fÃ¼zet aljÃ¡n lÃ©vÅ‘ QR kÃ³dot
- **PozÃ­ciÃ³ azonosÃ­tÃ¡s**: MeghatÃ¡rozza, hogy a QR kÃ³d bal vagy jobb oldalon van
- **VizuÃ¡lis jelzÃ©s**: "âœ“ QR kÃ³d beolvasva" Ã¼zenet

### 3. ğŸ“¸ ProfesszionÃ¡lis SzkennelÃ©s
- **Egy kattintÃ¡sos fotÃ³zÃ¡s**: Nagy zÃ¶ld gomb a kÃ©pernyÅ‘ aljÃ¡n
- **Automatikus perspektÃ­va korrekciÃ³**: A ferde kÃ©peket is egyenessÃ© alakÃ­tja
- **ProfesszionÃ¡lis feldolgozÃ¡s**:
  - Automatikus fÃ©nyerÅ‘ optimalizÃ¡lÃ¡s
  - KontrasztfokozÃ¡s
  - Ã‰lesÃ­tÃ©s (sharpening)
  - SzÃ­ntelÃ­tettsÃ©g fokozÃ¡s
  - FehÃ©r hÃ¡ttÃ©r Ã©s fekete szÃ¶veg kiemelÃ©se

### 4. ğŸ¨ Ikon DetektÃ¡lÃ¡s
- **8 szegmenses elemzÃ©s**: A fÃ¼zet aljÃ¡n talÃ¡lhatÃ³ ikon sÃ¡v automatikus feldolgozÃ¡sa
- **7 kÃ¼lÃ¶nbÃ¶zÅ‘ ikon felismerÃ©se**:
  - NyÃ­l
  - GyÃ©mÃ¡nt
  - Alma
  - CsengÅ‘
  - LÃ³here
  - Csillag
  - PatkÃ³
- **Intelligens pozÃ­cionÃ¡lÃ¡s**: A QR kÃ³d alapjÃ¡n optimalizÃ¡lja az ikon sÃ¡v helyzetÃ©t

### 5. ğŸ“¤ MegosztÃ¡s FunkciÃ³
- **Azonnali megosztÃ¡s**: A szkennelt kÃ©p megosztÃ¡sa mÃ¡s alkalmazÃ¡sokkal
- **NatÃ­v integrÃ¡ciÃ³**: iOS Ã©s Android megosztÃ¡si lehetÅ‘sÃ©gek
- **TÃ¡mogatott cÃ©lpontok**: WhatsApp, Email, Google Drive, stb.

### 6. ğŸ’¡ VillanÃ³ TÃ¡mogatÃ¡s
- **BeÃ©pÃ­tett flash**: Rossz fÃ©nyviszonyok esetÃ©n
- **Egy Ã©rintÃ©ses kapcsolÃ³**: Gyors be/kikapcsolÃ¡s

### 7. ğŸ¯ Tap-to-Focus
- **ManuÃ¡lis fÃ³kuszÃ¡lÃ¡s**: Ã‰rintsd meg a kÃ©pernyÅ‘t a fÃ³kusz beÃ¡llÃ­tÃ¡sÃ¡hoz
- **VizuÃ¡lis visszajelzÃ©s**: SÃ¡rga kÃ¶r jelzi a fÃ³kuszpont helyÃ©t

---

## ğŸ“– HasznÃ¡lati ÃštmutatÃ³

### ElsÅ‘ LÃ©pÃ©sek

1. **IndÃ­tsd el az alkalmazÃ¡st**
2. **EngedÃ©lyezd a kamera hozzÃ¡fÃ©rÃ©st** (elsÅ‘ hasznÃ¡latkor)
3. **Tartsd a telefont a BERRÄª fÃ¼zet fÃ¶lÃ©**

### Dokumentum SzkennelÃ©se

#### 1. lÃ©pÃ©s: PozÃ­cionÃ¡lÃ¡s
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "Keresd a BERRÄª keretÃ©t"   â”‚  â† Kezdeti stÃ¡tusz
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†“ (Amikor megtalÃ¡lja a keretet)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "BERRÄª Ã©szlelve! (45%)"    â”‚  â† Alacsony konfidencia
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†“ (Menj kÃ¶zelebb)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "Menj kÃ¶zelebb (60%)"      â”‚  â† KÃ¶zepes tÃ¡volsÃ¡g
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†“ (MegfelelÅ‘ tÃ¡volsÃ¡g)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "BERRÄª Ã©szlelve! (85%)"    â”‚  â† JÃ³ konfidencia
â”‚  "âœ“ QR kÃ³d beolvasva"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. lÃ©pÃ©s: EllenÅ‘rzÃ©s
- **ZÃ¶ld kontÃºr**: Pontosan illeszkedik a fÃ¼zet szÃ©leire
- **Konfidencia > 80%**: OptimÃ¡lis minÅ‘sÃ©g fotÃ³zÃ¡shoz
- **QR kÃ³d beolvasva**: Ikon detektÃ¡lÃ¡s engedÃ©lyezve

#### 3. lÃ©pÃ©s: FotÃ³zÃ¡s
- **Nyomd meg a zÃ¶ld capture gombot** (kÃ©pernyÅ‘ alja kÃ¶zÃ©pen)
- Az alkalmazÃ¡s automatikusan:
  - KÃ©szÃ­t egy nagy felbontÃ¡sÃº fotÃ³t
  - PerspektÃ­va korrekciÃ³t alkalmaz
  - ProfesszionÃ¡lis scan effektet alkalmaz
  - DetektÃ¡lja az ikonokat
  - MegjelenÃ­ti az eredmÃ©nyt

#### 4. lÃ©pÃ©s: MegosztÃ¡s vagy BezÃ¡rÃ¡s
- **MegosztÃ¡s gomb** (bal felsÅ‘ sarok): MegosztÃ¡s mÃ¡s alkalmazÃ¡sokkal
- **BezÃ¡rÃ¡s gomb** (jobb felsÅ‘ sarok): Vissza a kamerÃ¡hoz

---

## ğŸ›ï¸ FelhasznÃ¡lÃ³i FelÃ¼let

### FÅ‘kÃ©pernyÅ‘ Elemei

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Debug] [ğŸ”¦ Flash]           [?]   â”‚  â† FelsÅ‘ eszkÃ¶ztÃ¡r
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚                                     â”‚
â”‚         ğŸ“· KAMERA KÃ‰P               â”‚
â”‚                                     â”‚
â”‚         (ZÃ¶ld kontÃºr overlay)       â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  "BERRÄª Ã©szlelve! (85%)"            â”‚  â† StÃ¡tusz Ã¼zenet
â”‚  "âœ“ QR kÃ³d beolvasva"               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              [ ğŸ“¸ ]                 â”‚  â† Capture gomb
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Szkennelt KÃ©p Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ğŸ“¤ MegosztÃ¡s]         [âœ• BezÃ¡r]   â”‚  â† Modal fejlÃ©c
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚                                     â”‚
â”‚      ğŸ“„ SZKENNELT KÃ‰P               â”‚
â”‚                                     â”‚
â”‚      (Ikon detektÃ¡lÃ¡s eredmÃ©nye)    â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” StÃ¡tusz Ãœzenetek MagyarÃ¡zata

| Ãœzenet | JelentÃ©s | Mit tegyek? |
|--------|----------|-------------|
| **"Keresd a BERRÄª keretÃ©t"** | Nincs dokumentum detektÃ¡lva | Tartsd a telefont a fÃ¼zet fÃ¶lÃ© |
| **"BERRÄª Ã©szlelve! (45%)"** | Alacsony konfidencia | JavÃ­tsd a megvilÃ¡gÃ­tÃ¡st, tartsd stabilabban |
| **"Menj kÃ¶zelebb (60%)"** | TÃºl messze vagy | Menj kÃ¶zelebb a fÃ¼zethez |
| **"BERRÄª Ã©szlelve! (85%)"** | JÃ³ minÅ‘sÃ©g | FotÃ³zÃ¡sra kÃ©sz! |
| **"âœ“ QR kÃ³d beolvasva"** | QR kÃ³d detektÃ¡lva | Ikon detektÃ¡lÃ¡s aktÃ­v |
| **"âš ï¸ Tartsd szemben a fÃ¼zettel!"** | Ferde pozÃ­ciÃ³ | Tartsd a telefont pÃ¡rhuzamosan a fÃ¼zettel |

---

## ğŸ’¡ Tippek Ã©s TrÃ¼kkÃ¶k

### Legjobb EredmÃ©ny ElÃ©rÃ©sÃ©hez

1. **JÃ³ MegvilÃ¡gÃ­tÃ¡s**
   - TermÃ©szetes fÃ©ny (ablak mellett) ideÃ¡lis
   - HasznÃ¡ld a villanÃ³t rossz fÃ©nyviszonyok esetÃ©n
   - KerÃ¼ld a tÃºl erÅ‘s Ã¡rnyÃ©kokat

2. **Stabil PozÃ­ciÃ³**
   - Tartsd stabilanTelefonjÃ¡t
   - TÃ¡maszd alÃ¡ a kÃ©zfejedet
   - VÃ¡rj 1-2 mÃ¡sodpercet a stabilizÃ¡lÃ³dÃ¡shoz

3. **MegfelelÅ‘ TÃ¡volsÃ¡g**
   - A fÃ¼zet tÃ¶ltse ki a kÃ©pernyÅ‘ ~70%-Ã¡t
   - Ne legyen tÃºl kÃ¶zel (kamerÃ¡nÃ¡l)
   - Ne legyen tÃºl messze (konfidencia < 60%)

4. **PÃ¡rhuzamos PozÃ­ciÃ³**
   - Tartsd a telefont pÃ¡rhuzamosan a fÃ¼zettel
   - KerÃ¼ld a ferde szÃ¶geket
   - Ha figyelmeztetÃ©st kapsz, igazÃ­tsd a pozÃ­ciÃ³t

### Debug MÃ³d HasznÃ¡lata

A **Debug gomb** (bal felsÅ‘ sarok) kapcsolja be/ki a debug mÃ³dot:
- **BE**: LÃ¡thatÃ³ a feldolgozott kÃ©p (fekete-fehÃ©r)
- **KI**: Csak a kamera feed lÃ¡tszik

**Mikor hasznos?**
- Ha nem detektÃ¡l: lÃ¡sd, hogy mit "lÃ¡t" az algoritmus
- Ha rossz sarkok: ellenÅ‘rizd a kontÃºr detektÃ¡lÃ¡st
- FejlesztÅ‘i cÃ©lokra

---

## ğŸ”§ Gyakori ProblÃ©mÃ¡k MegoldÃ¡sa

### ProblÃ©ma: Nem DetektÃ¡l Dokumentumot

**LehetsÃ©ges Okok:**
- âŒ Rossz megvilÃ¡gÃ­tÃ¡s
- âŒ TÃºl kicsi a fÃ¼zet a kÃ©pen
- âŒ Ferde pozÃ­ciÃ³

**MegoldÃ¡sok:**
1. Kapcsold be a villanÃ³t
2. Menj kÃ¶zelebb
3. Tartsd a telefont pÃ¡rhuzamosan
4. PrÃ³bÃ¡lj meg tap-to-focus-t hasznÃ¡lni

### ProblÃ©ma: VillogÃ³ DetektÃ¡lÃ¡s

**Ok:** A konfidencia 70% kÃ¶rÃ¼l ingadozik

**MegoldÃ¡s:**
- Tartsd stabilabban a telefont
- JavÃ­tsd a megvilÃ¡gÃ­tÃ¡st
- VÃ¡rj pÃ¡r mÃ¡sodpercet a stabilizÃ¡lÃ³dÃ¡sra

### ProblÃ©ma: Rossz FotÃ³ MinÅ‘sÃ©g

**LehetsÃ©ges Okok:**
- âŒ MozgÃ³ kamera (blur)
- âŒ Rossz fÃ©ny
- âŒ Piszkos kamera lencse

**MegoldÃ¡sok:**
1. Tartsd stabilan fotÃ³zÃ¡skor
2. HasznÃ¡ld a villanÃ³t
3. TisztÃ­tsd meg a lencsÃ©t

### ProblÃ©ma: QR KÃ³d Nem DetektÃ¡lÃ³dik

**EllenÅ‘rizd:**
- A QR kÃ³d lÃ¡thatÃ³ Ã©s nem takarjÃ¡k?
- MegfelelÅ‘ felbontÃ¡s (nem tÃºl messze)?
- JÃ³ megvilÃ¡gÃ­tÃ¡s?

### ProblÃ©ma: Ikonok Nem DetektÃ¡lÃ³dnak

**Ok:** QR kÃ³d nem lett beolvasva

**MegoldÃ¡s:**
1. EllenÅ‘rizd a QR kÃ³d lÃ¡thatÃ³sÃ¡gÃ¡t
2. VÃ¡rj a "âœ“ QR kÃ³d beolvasva" Ã¼zenetre
3. Akkor fotÃ³zz

---

## ğŸ“Š Technikai RÃ©szletek (HaladÃ³knak)

### DetektÃ¡lÃ¡si Algoritmus

Az alkalmazÃ¡s valÃ³s idÅ‘ben, 30-60 FPS sebessÃ©ggel dolgozza fel a kamera kÃ©pkockÃ¡it. A teljes folyamat ~16-33ms alatt fut le frame-enkÃ©nt.

#### 1. Frame Preprocessing (ElÅ‘feldolgozÃ¡s)

**CÃ©l:** A feldolgozÃ¡si sebessÃ©g optimalizÃ¡lÃ¡sa a minÅ‘sÃ©g megtartÃ¡sa mellett.

```
Eredeti Frame (pl. 1920x1080)
         â†“
Resize Algorithm (INTER_AREA)
         â†“
Feldolgozott Frame (max 1080px)
```

**RÃ©szletek:**
- **Max dimenziÃ³:** 1080px (a nagyobbik Ã©l)
- **Aspect ratio megÅ‘rzÃ©s:** Igen, arÃ¡nyos Ã¡tmÃ©retezÃ©s
- **InterpolÃ¡ciÃ³:** INTER_AREA (downscaling-hez optimÃ¡lis)
- **TeljesÃ­tmÃ©ny nyeresÃ©g:** 3-4x gyorsabb feldolgozÃ¡s
- **MinÅ‘sÃ©g vesztesÃ©g:** MinimÃ¡lis, a detektÃ¡lÃ¡shoz elegendÅ‘

**PÃ©lda:**
```
1920x1080 â†’ 1080x608  (landscape)
1080x1920 â†’ 608x1080  (portrait)
```

#### 2. Brightness Seeker (AdaptÃ­v FÃ©nyerÅ‘ KalibrÃ¡lÃ¡s)

**CÃ©l:** Automatikusan megtalÃ¡lni az optimÃ¡lis fÃ©nyerÅ‘ offsetet kÃ¼lÃ¶nbÃ¶zÅ‘ fÃ©nyviszonyok mellett.

**MÅ±kÃ¶dÃ©si Elv:**
```
InicializÃ¡lÃ¡s: brightnessOffset = 0

Minden frame-ben:
  1. Alkalmazd az offsetet a kÃ©pre
  2. PrÃ³bÃ¡lj meg dokumentumot detektÃ¡lni
  
  Ha DETEKTÃLT:
    offset += STEP (20)  // VilÃ¡gosabbÃ¡ teszi
  Ha NEM DETEKTÃLT:
    offset -= STEP (20)  // SÃ¶tÃ©tebbre teszi
    
  Clamp: offset âˆˆ [-100, +100]
```

**Matematikai Formula:**
```
adjustedImage = saturate(originalImage Ã— Î± + offset)

ahol:
  Î± = 1.0 (szorzÃ³)
  offset âˆˆ [-100, +100]
  saturate() = min(255, max(0, value))
```

**AdaptÃ­v ViselkedÃ©s:**
- **SÃ¶tÃ©t kÃ¶rnyezet:** offset â†’ +100 (vilÃ¡gosÃ­tÃ¡s)
- **VilÃ¡gos kÃ¶rnyezet:** offset â†’ -100 (sÃ¶tÃ©tÃ­tÃ©s)
- **OptimÃ¡lis fÃ©ny:** offset â†’ 0 kÃ¶rÃ¼l stabilizÃ¡lÃ³dik
- **Konvergencia:** ~20-30 frame alatt (0.5-1 mÃ¡sodperc)

**Gyakorlati PÃ©lda:**
```
Frame 1:  offset = 0    â†’ Nem detektÃ¡l â†’ offset = -20
Frame 2:  offset = -20  â†’ Nem detektÃ¡l â†’ offset = -40
Frame 3:  offset = -40  â†’ DetektÃ¡lt! âœ“ â†’ offset = -20
Frame 4:  offset = -20  â†’ DetektÃ¡lt! âœ“ â†’ offset = 0
Frame 5:  offset = 0    â†’ DetektÃ¡lt! âœ“ â†’ offset = 20
...
StabilizÃ¡lÃ³dÃ¡s: offset â‰ˆ 10 (optimÃ¡lis)
```

#### 3. Edge Detection (Ã‰ldetektÃ¡lÃ¡s)

**KÃ©t pÃ¡rhuzamos mÃ³dszer kombinÃ¡ciÃ³ja:**

**A) AdaptÃ­v Threshold MÃ³dszer:**
```
Grayscale â†’ GaussianBlur (5x5) â†’ AdaptiveThreshold
                                         â†“
                                  Binary Image (fekete-fehÃ©r)
```

**ParamÃ©terek:**
- **Block Size:** 25Ã—25 pixel (lokÃ¡lis kÃ¶rnyezet)
- **C Konstans:** 10 (kÃ¼szÃ¶b offset)
- **Threshold Type:** ADAPTIVE_THRESH_MEAN_C
- **BinÃ¡ris Ã©rtÃ©k:** 255 (fehÃ©r) vagy 0 (fekete)

**B) Canny Edge Detector:**
```
Grayscale â†’ GaussianBlur (5Ã—5) â†’ Canny(50, 150)
                                      â†“
                                  Edge Image (Ã©lek)
```

**ParamÃ©terek:**
- **Lower Threshold:** 50 (gyenge Ã©lek kÃ¼szÃ¶be)
- **Upper Threshold:** 150 (erÅ‘s Ã©lek kÃ¼szÃ¶be)
- **Aperture:** 3Ã—3 Sobel kernel
- **Hysteresis:** Automatikus Ã©l kÃ¶vetÃ©s

**KombinÃ¡ciÃ³:**
```
adaptiveResult = AdaptiveThreshold(blurred)
cannyResult = Canny(blurred, 50, 150)

finalImage = bitwise_OR(adaptiveResult, cannyResult)
```

#### 4. MorfolÃ³giai MÅ±veletek

**CÃ©l:** ZajszÅ±rÃ©s Ã©s Ã©lfolytonossÃ¡g javÃ­tÃ¡sa

```
Binary Image
     â†“
Morphological Close (5Ã—5 kernel)  // Lyukak betÃ¶ltÃ©se
     â†“
Dilate (5Ã—5 kernel, 1 iterÃ¡ciÃ³)   // Ã‰lek vastagÃ­tÃ¡sa
     â†“
TisztÃ­tott Binary Image
```

**MORPH_CLOSE HatÃ¡sa:**
```
ElÅ‘tte:  â•â•â• â•â•â• â•â•â•    (szaggatott Ã©l)
UtÃ¡na:   â•â•â•â•â•â•â•â•â•â•â•    (folytonos Ã©l)
```

#### 5. Contour Detection (KontÃºr DetektÃ¡lÃ¡s)

**OpenCV findContours:**
```
Binary Image â†’ findContours(RETR_EXTERNAL, CHAIN_APPROX_SIMPLE)
                    â†“
              Lista: [contour1, contour2, ...]
```

**Polygon ApproximÃ¡ciÃ³ (4 sarok keresÃ©se):**

Az algoritmus 4 kÃ¼lÃ¶nbÃ¶zÅ‘ epsilon Ã©rtÃ©kkel prÃ³bÃ¡lkozik:

```
EPSILON_VALUES = [0.005, 0.01, 0.02, 0.05]

for (epsilon in EPSILON_VALUES) {
  arcLength = perimeter(contour)
  approxPoly = approxPolyDP(contour, epsilon Ã— arcLength, closed=true)
  
  if (approxPoly.length === 4) {
    // MegtalÃ¡ltuk a 4 sarkot! âœ“
    break
  }
}
```

**Epsilon Ã‰rtÃ©kek JelentÃ©se:**
- **0.005 (0.5%):** Nagyon pontos approximÃ¡ciÃ³ (finom rÃ©szletek)
- **0.01 (1%):** Pontos approximÃ¡ciÃ³
- **0.02 (2%):** KÃ¶zepes approximÃ¡ciÃ³
- **0.05 (5%):** Durva approximÃ¡ciÃ³ (nagy egyszerÅ±sÃ­tÃ©s)

**PÃ©lda:**
```
KontÃºr kerÃ¼lete: 2000 pixel

epsilon = 0.005 â†’ Îµ = 10 pixel tÅ±rÃ©s  â†’ 4 sarok âœ“
epsilon = 0.01  â†’ Îµ = 20 pixel tÅ±rÃ©s  â†’ 4 sarok âœ“
epsilon = 0.02  â†’ Îµ = 40 pixel tÅ±rÃ©s  â†’ 4 sarok (kevÃ©sbÃ© pontos)
```

#### 6. ValidÃ¡lÃ¡s (MinÅ‘sÃ©g EllenÅ‘rzÃ©s)

**A) MÃ©ret ValidÃ¡lÃ¡s:**
```
documentArea = contourArea(approxPoly)
frameArea = frameWidth Ã— frameHeight

areaRatio = documentArea / frameArea

âœ“ VALID if: 0.1 â‰¤ areaRatio â‰¤ 0.95
```

**JelentÃ©s:**
- **< 10%:** TÃºl kicsi, valÃ³szÃ­nÅ±leg zaj vagy tÃ¡voli objektum
- **10-95%:** MegfelelÅ‘ mÃ©ret
- **> 95%:** TÃºl nagy, valÃ³szÃ­nÅ±leg nem dokumentum (teljes kÃ©pernyÅ‘)

**B) Aspect Ratio ValidÃ¡lÃ¡s:**
```
// Oldal hosszak szÃ¡mÃ­tÃ¡sa
topLength = distance(topLeft, topRight)
bottomLength = distance(bottomLeft, bottomRight)
leftLength = distance(topLeft, bottomLeft)
rightLength = distance(topRight, bottomRight)

avgWidth = (topLength + bottomLength) / 2
avgHeight = (leftLength + rightLength) / 2

aspectRatio = avgHeight / avgWidth  // Portrait (Ã¡llÃ³)

âœ“ VALID if: aspectRatio â‰¥ 0.9 (kb. Ã¡llÃ³ tÃ©glalap)
```

**C) Oldal ArÃ¡nyossÃ¡g EllenÅ‘rzÃ©s:**
```
horizontalRatio = max(topLength, bottomLength) / 
                  min(topLength, bottomLength)

verticalRatio = max(leftLength, rightLength) / 
                min(leftLength, rightLength)

âœ“ VALID if: 
  horizontalRatio â‰¤ 5.0  // FelsÅ‘/alsÃ³ oldal hasonlÃ³
  verticalRatio â‰¤ 5.0    // Bal/jobb oldal hasonlÃ³
```

**D) Solidity ValidÃ¡lÃ¡s:**
```
convexHull = convexHull(approxPoly)
hullArea = contourArea(convexHull)

solidity = documentArea / hullArea

âœ“ VALID if: solidity â‰¥ 0.8  // 80% tÃ¶mÃ¶rsÃ©g
```

**Solidity JelentÃ©se:**
- **1.0:** TÃ¶kÃ©letes tÃ©glalap (konvex)
- **0.9:** Kis bemÃ©lyedÃ©sek
- **0.8:** KÃ¶zepes bemÃ©lyedÃ©sek (minimum kÃ¼szÃ¶b)
- **< 0.8:** Nagy bemÃ©lyedÃ©sek, nem tÃ©glalap

**E) PontozÃ¡si Rendszer:**

Minden kontÃºr pontszÃ¡mot kap a validÃ¡lÃ¡s alapjÃ¡n:

```
score = 0

// Aspect Ratio (max 30 pont)
if (0.9 â‰¤ aspectRatio â‰¤ 1.1):     score += 30  // TÃ¶kÃ©letes
elif (1.1 < aspectRatio â‰¤ 2.0):   score += 15  // KÃ¶zepes

// Solidity (max 25 pont)
if (solidity > 0.95):             score += 25  // Magas
elif (solidity > 0.85):           score += 15  // KÃ¶zepes
else:                             score += 5   // Alacsony

// MÃ©ret (max 20 pont)
if (areaRatio > 0.4):             score += 20  // Nagy
elif (areaRatio > 0.2):           score += 10  // KÃ¶zepes

Total Score (max 75 pont)
```

**Legjobb KontÃºr KivÃ¡lasztÃ¡sa:**
```
bestContour = null
maxScore = 0

for (contour in validContours) {
  if (contour.score > maxScore) {
    maxScore = contour.score
    bestContour = contour
  }
}
```

#### 7. StabilitÃ¡s EllenÅ‘rzÃ©s (Anti-Jitter)

**CÃ©l:** VillogÃ¡s Ã©s ugrÃ¡lÃ¡s megelÅ‘zÃ©se a UI-ban.

**ÃllapotgÃ©p (State Machine):**
```
States:
  - NO_DETECTION (nincs dokumentum)
  - DETECTING (detektÃ¡lÃ¡s folyamatban)
  - STABLE (stabil detektÃ¡lÃ¡s)
  - FROZEN (befagyasztva, fotÃ³zÃ¡s utÃ¡n)
```

**Ãtmenetek:**
```
NO_DETECTION
     â†“ (dokumentum talÃ¡lt)
DETECTING (szÃ¡mlÃ¡lÃ³++)
     â†“ (5+ egymÃ¡st kÃ¶vetÅ‘ frame)
STABLE âœ“
     â†“ (fotÃ³ kÃ©szÃ­tÃ©s)
FROZEN (15 frame)
     â†“
NO_DETECTION
```

**Stabil DetektÃ¡lÃ¡s Logika:**
```
consecutiveDetectionCount = 0
consecutiveNoDetectionCount = 0

Every Frame:
  if (dokumentum_detektÃ¡lva) {
    consecutiveDetectionCount++
    consecutiveNoDetectionCount = 0
    
    if (consecutiveDetectionCount â‰¥ 5) {
      state = STABLE  // âœ“ Stabil
    }
  } else {
    consecutiveNoDetectionCount++
    consecutiveDetectionCount = 0
    
    if (consecutiveNoDetectionCount â‰¥ 15) {
      state = NO_DETECTION
    }
  }
```

**Confidence SimÃ­tÃ¡s (Smoothing):**
```
smoothedConfidence = 0.7 Ã— previousConfidence + 
                     0.3 Ã— currentConfidence

// ExponenciÃ¡lis mozgÃ³Ã¡tlag (EMA)
```

### SzkennelÃ©si Pipeline

A fotÃ³ kÃ©szÃ­tÃ©sekor egy komplex 15 lÃ©pÃ©ses feldolgozÃ¡si pipeline fut le:

#### 1. FotÃ³ KÃ©szÃ­tÃ©se

```
Camera.takePhoto({
  flash: 'off',
  qualityPrioritization: 'quality',
  enableAutoStabilization: true
})
```

**Kimenet:**
- **FelbontÃ¡s:** Max (pl. 3264Ã—2448, 12MP)
- **FormÃ¡tum:** JPEG
- **OrientÃ¡ciÃ³:** Landscape (fekvÅ‘)

#### 2. OrientÃ¡ciÃ³ Fix (90Â° ForgatÃ¡s)

**ProblÃ©ma:** A kamera landscape mÃ³dban kÃ©szÃ­t fotÃ³t, de az app portrait mÃ³dban fut.

```
Eredeti FotÃ³ (landscape): 3264 Ã— 2448
         â†“
rotate(src, dst, ROTATE_90_CLOCKWISE)
         â†“
Forgatott (portrait):     2448 Ã— 3264
```

**OpenCV KÃ³d:**
```
cv.rotate(photo, rotatedPhoto, cv.ROTATE_90_CLOCKWISE)
```

**KoordinÃ¡ta TranszformÃ¡ciÃ³:**
```
Eredeti (x, y) â†’ Forgatott (y, width - x)

PÃ©lda:
  (100, 200) @ 3264Ã—2448
  â†’ (200, 3264-100) = (200, 3164) @ 2448Ã—3264
```

#### 3. Sarok KoordinÃ¡tÃ¡k SkÃ¡lÃ¡zÃ¡sa

**ProblÃ©ma:** A detektÃ¡lt sarkok frame koordinÃ¡tÃ¡kban vannak, de a fotÃ³ mÃ¡s felbontÃ¡sÃº.

```
Frame:  1080 Ã— 608  (feldolgozÃ¡si mÃ©ret)
Photo:  3264 Ã— 2448 (eredeti mÃ©ret, forgatÃ¡s elÅ‘tt)

SkÃ¡lÃ¡zÃ¡si faktorok:
  scaleX = photoWidth / frameWidth  = 3264 / 1080 â‰ˆ 3.02
  scaleY = photoHeight / frameHeight = 2448 / 608  â‰ˆ 4.03
```

**TranszformÃ¡ciÃ³:**
```
for (corner in corners) {
  photoCorner.x = corner.x Ã— scaleX
  photoCorner.y = corner.y Ã— scaleY
}
```

**PÃ©lda:**
```
Frame corner: (500, 300)
Photo corner: (500 Ã— 3.02, 300 Ã— 4.03) = (1510, 1209)
```

#### 4. Perspective Transform (PerspektÃ­va KorrekciÃ³)

**CÃ©l:** A ferde fotÃ³t egyenes tÃ©glalapra alakÃ­tani.

**4 sarok â†’ TÃ©glalap:**
```
Input: 4 sarok (tetszÅ‘leges trapÃ©z/nÃ©gyszÃ¶g)
  [topLeft, topRight, bottomRight, bottomLeft]

Output: Egyenes tÃ©glalap
  Width:  Ã¡tlagos felsÅ‘/alsÃ³ szÃ©lessÃ©g
  Height: Ã¡tlagos bal/jobb magassÃ¡g
```

**SzÃ©lessÃ©g/MagassÃ¡g SzÃ¡mÃ­tÃ¡s:**
```
topWidth = distance(topLeft, topRight)
bottomWidth = distance(bottomLeft, bottomRight)
width = (topWidth + bottomWidth) / 2

leftHeight = distance(topLeft, bottomLeft)
rightHeight = distance(topRight, bottomRight)  
height = (leftHeight + rightHeight) / 2
```

**Perspective Transformation Matrix:**
```
srcPoints = [topLeft, topRight, bottomRight, bottomLeft]
dstPoints = [(0,0), (width,0), (width,height), (0,height)]

M = getPerspectiveTransform(srcPoints, dstPoints)
warpedImage = warpPerspective(rotatedPhoto, M, (width, height))
```

**VizuÃ¡lis PÃ©lda:**
```
ElÅ‘tte (trapÃ©z):          UtÃ¡na (tÃ©glalap):
    ________                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
   /        \                 â”‚        â”‚
  /          \                â”‚        â”‚
 /            \               â”‚        â”‚
/______________\              â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5. TÃ¼krÃ¶zÃ©s & TovÃ¡bbi ForgatÃ¡s

```
warpedImage
    â†“
flip(HORIZONTAL)  // VÃ­zszintes tÃ¼krÃ¶zÃ©s
    â†“
rotate(ROTATE_180)  // 180Â° forgatÃ¡s
    â†“
finalOrientation
```

**MiÃ©rt szÃ¼ksÃ©ges?**
- Kamera mirror mode kompenzÃ¡lÃ¡sa
- Helyes olvasÃ¡si irÃ¡ny biztosÃ­tÃ¡sa

#### 6. Scaling (OpcionÃ¡lis)

```
if (SCALE_FACTOR â‰  1.0) {
  newWidth = width Ã— SCALE_FACTOR
  newHeight = height Ã— SCALE_FACTOR
  
  resize(image, (newWidth, newHeight), INTER_LANCZOS4)
}
```

**Jelenleg:** SCALE_FACTOR = 1.0 (nincs skÃ¡lÃ¡zÃ¡s)

#### 7. Brightness DetektÃ¡lÃ¡s & Auto-Adjustment

**FÃ©nyerÅ‘ MÃ©rÃ©s:**
```
grayscale = cvtColor(image, COLOR_BGR2GRAY)
{minVal, maxVal} = minMaxLoc(grayscale)

range = maxVal - minVal

if (range > 150):
  avgBrightness = minVal Ã— 0.2 + maxVal Ã— 0.8  // VilÃ¡gos kÃ©p
elif (range > 100):
  avgBrightness = minVal Ã— 0.3 + maxVal Ã— 0.7  // NormÃ¡l
else:
  avgBrightness = (minVal + maxVal) / 2        // SÃ¶tÃ©t kÃ©p
```

**Beta Boost SzÃ¡mÃ­tÃ¡s (SÃ¶tÃ©t KÃ©pekhez):**
```
rawBeta = (max(0, 230 - avgBrightness))^1.2 Ã— 0.2
betaBoost = clamp(rawBeta, 0, 80)
```

**PÃ©ldÃ¡k:**
```
avgBrightness = 200 â†’ betaBoost = 0    (vilÃ¡gos, nincs boost)
avgBrightness = 150 â†’ betaBoost = 18   (normÃ¡l, kis boost)
avgBrightness = 80  â†’ betaBoost = 45   (sÃ¶tÃ©t, kÃ¶zepes boost)
avgBrightness = 30  â†’ betaBoost = 80   (nagyon sÃ¶tÃ©t, max boost)
```

**FÃ©nyerÅ‘ KategÃ³ria:**
```
if (avgBrightness > 150): "Nappali"   (â˜€ï¸)
elif (avgBrightness > 80): "NormÃ¡l"   (ğŸ™ï¸)
else: "Ã‰jjeli"                        (ğŸŒ™)
```

#### 8-10. 3 RÃ©teg FeldolgozÃ¡s (Trilayer Processing)

**FilozÃ³fia:** KÃ¼lÃ¶nbÃ¶zÅ‘ elemek (szÃ¶veg, hÃ¡ttÃ©r, szÃ­nek) kÃ¼lÃ¶n optimalizÃ¡lÃ¡sa.

**FEKETE RÃ‰TEG (SzÃ¶veg KiemelÃ©se):**
```
1. Grayscale konverziÃ³
2. GaussianBlur (5Ã—5)
3. Threshold (100):
     pixel < 100 â†’ 0 (fekete)
     pixel â‰¥ 100 â†’ 255 (fehÃ©r)
4. Bitwise NOT â†’ Fekete szÃ¶veg, fehÃ©r hÃ¡ttÃ©r
5. Normalize (0.0 - 1.0 range)
```

**EredmÃ©ny:** Ã‰les fekete szÃ¶veg

**FEHÃ‰R RÃ‰TEG (HÃ¡ttÃ©r TisztÃ­tÃ¡sa):**
```
1. Grayscale konverziÃ³
2. GaussianBlur (5Ã—5)
3. Threshold (127):
     pixel < 127 â†’ 0 (fekete)
     pixel â‰¥ 127 â†’ 255 (fehÃ©r)
4. Normalize (0.0 - 1.0 range)
```

**EredmÃ©ny:** Tiszta fehÃ©r hÃ¡ttÃ©r

**SZÃNES RÃ‰TEG (SzÃ­nes Elemek MegtartÃ¡sa):**
```
1. HSV konverziÃ³
2. Saturation Channel kinyerÃ©se
3. GaussianBlur (3Ã—3)
4. Threshold (50):
     saturation > 50 â†’ szÃ­nes
     saturation â‰¤ 50 â†’ nem szÃ­nes
5. MorphologyEx CLOSE (3Ã—3)
6. Dilate (3Ã—3)
7. Bitwise AND (original, colorMask)
8. Saturation Boost (Ã—2.0):
     S_channel Ã— 2.0 (clamped to 255)
9. Normalize (0.0 - 1.0 range)
```

**EredmÃ©ny:** Ã‰lÃ©nk, telÃ­tett szÃ­nek

**KOMBINÃCIÃ“ (Weighted Average):**
```
finalImage = blackLayer Ã— 0.5 +     // 50% szÃ¶veg
             whiteLayer Ã— 0.3 +     // 30% hÃ¡ttÃ©r
             colorLayer Ã— 0.2       // 20% szÃ­nek

// Denormalize vissza (0-255 range)
finalImage Ã— 255
```

#### 11. Sharpening (Ã‰lesÃ­tÃ©s)

**Unsharp Mask Technika:**

```
1. GaussianBlur(5Ã—5) â†’ blurred
2. sharpened = original + SHARPEN_AMOUNT Ã— (original - blurred)

ahol SHARPEN_AMOUNT = 1.8
```

**Matematikai Formula:**
```
sharpened(x,y) = original(x,y) + 1.8 Ã— [original(x,y) - blurred(x,y)]
```

**HatÃ¡s:**
- Ã‰lek kiemelÃ©se
- RÃ©szletek felerÅ‘sÃ­tÃ©se
- KontrasztfokozÃ¡s Ã©lek mentÃ©n

**PÃ©lda Pixel Ã‰rtÃ©kekre:**
```
Eredeti: 100
Blurred: 90
KÃ¼lÃ¶nbsÃ©g: 10

Sharpened: 100 + 1.8 Ã— 10 = 118  (Ã©lesebb)
```


#### 12. Saturation Boost (SzÃ­ntelÃ­tettsÃ©g FokozÃ¡s)

```
1. BGR â†’ HSV konverziÃ³
2. S channel kinyerÃ©se
3. S Ã— SAT_BOOST (1.5)
4. Clamp (0-255)
5. HSV â†’ BGR visszaalakÃ­tÃ¡s
```

**HatÃ¡s:**
- SzÃ­nek Ã©lÃ©nkebbÃ© vÃ¡lnak
- SzÃ¼rke Ã¡rnyalatok vÃ¡ltozatlanok maradnak

#### 13. Brightness Boost

```
convertScaleAbs(image, 
  alpha = BRIGHTNESS_ALPHA,    // 1.2
  beta = betaBoost)            // 0-80 (dinamikus)
```

**Formula:**
```
boosted(x,y) = saturate(1.2 Ã— original(x,y) + betaBoost)
```

**HatÃ¡s:**
- ÃltalÃ¡nos vilÃ¡gosÃ­tÃ¡s (Ã—1.2)
- Extra boost sÃ¶tÃ©t kÃ©pekhez (+betaBoost)

#### 14. Final Contrast Bump

```
convertScaleAbs(image,
  alpha = SCAN_CONTRAST_ALPHA,  // 1.3
  beta = SCAN_BRIGHTNESS_BETA)  // 5
```

**Formula:**
```
final(x,y) = saturate(1.3 Ã— image(x,y) + 5)
```

**HatÃ¡s:**
- Kontraszt fokozÃ¡s (Ã—1.3)
- MinimÃ¡lis fÃ©nyerÅ‘ offset (+5)
- ProfesszionÃ¡lis scan megjelenÃ©s

#### 15. Ikon DetektÃ¡lÃ¡s (8 Szegmens ElemzÃ©se)

**SzegmentÃ¡lÃ¡s:**

```
borderHeight = finalImage.height Ã— 0.04  // 4% magassÃ¡g (ikon sÃ¡v)
borderROI = finalImage[bottom - borderHeight : bottom, :]

Teljes szÃ©lessÃ©g: width
Hasznos szÃ©lessÃ©g: width Ã— 0.75 (75%)

Padding kiszÃ¡mÃ­tÃ¡sa:
  centerPadding = width Ã— 0.125  // 12.5% kÃ¶zÃ©pre igazÃ­tÃ¡s
  
  if (QR bal oldalt):
    leftPadding = centerPadding + 10
  else (QR jobb oldalt):
    fingerOffset = width Ã— 0.04  // 4% ujj elkerÃ¼lÃ©s
    leftPadding = centerPadding - fingerOffset - 10

borderWidth = width Ã— 0.75
segmentWidth = borderWidth / 8  // 8 egyenlÅ‘ szegmens
```

**VizuÃ¡lis Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Dokumentum Tartalma (96%)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† borderTop
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   (4% magassÃ¡g)
â”‚   â”‚ 0 â”‚ 1 â”‚ 2 â”‚ 3 â”‚ 4 â”‚ 5 â”‚ 6 â”‚ 7 â”‚    â”‚   (8 szegmens)
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   (75% szÃ©lessÃ©g)
â”‚   â†‘                                     â”‚
â”‚   leftPadding (QR alapjÃ¡n)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Szegmens FeldolgozÃ¡s:**

```
selectedIcons = []

for (segmentIndex in 0..7) {
  // ROI kiszÃ¡mÃ­tÃ¡s
  x1 = leftPadding + segmentIndex Ã— segmentWidth
  x2 = x1 + segmentWidth
  
  segmentROI = borderROI[:, x1:x2]
  
  // Grayscale konverziÃ³
  gray = cvtColor(segmentROI, COLOR_BGR2GRAY)
  
  // BinÃ¡ris threshold
  _, binary = threshold(gray, 100, 255, THRESH_BINARY)
  
  // SÃ¶tÃ©t pixel szÃ¡molÃ¡s
  darkPixels = countNonZero(binary == 0)
  totalPixels = segmentWidth Ã— borderHeight
  
  darkPixelRatio = darkPixels / totalPixels
  
  // DetektÃ¡lÃ¡s (0.5% kÃ¼szÃ¶b)
  if (darkPixelRatio >= 0.005) {
    selectedIcons.push(segmentIndex)
  }
}
```

**Ikon Nevek HozzÃ¡rendelÃ©se:**
```
ICON_NAMES = ['', 'nyÃ­l', 'gyÃ©mÃ¡nt', 'alma', 'csengÅ‘', 
              'lÃ³here', 'csillag', 'patkÃ³']

selectedIconNames = selectedIcons.map(idx => ICON_NAMES[idx])
```

**PÃ©lda EredmÃ©ny:**
```
selectedIcons = [1, 3, 5]
selectedIconNames = ['nyÃ­l', 'alma', 'lÃ³here']
```

**Piros Keret RajzolÃ¡s (Debug):**

```
Csak 1-7 szegmensekre (0. kihagyva)

for (segmentIndex in 1..7) {
  x1 = leftPadding + segmentIndex Ã— segmentWidth
  x2 = x1 + segmentWidth
  y1 = borderTop
  y2 = borderTop + borderHeight
  
  // Keret vonalak
  line(image, (x1, y1), (x2, y1), RED, 6)     // FelsÅ‘
  line(image, (x1, y2), (x2, y2), RED, 6)     // AlsÃ³
  line(image, (x1, y1), (x1, y2), RED, 6)     // Bal
  line(image, (x2, y1), (x2, y2), RED, 6)     // Jobb
  
  // Szegmens vÃ¡lasztÃ³vonal (2-7)
  if (segmentIndex >= 2) {
    line(image, (x1, y1), (x1, y2), RED, 3)
  }
}
```

**QR AlapÃº PozÃ­cionÃ¡lÃ¡s Logika:**

```
// QR bounds (frame koordinÃ¡tÃ¡k)
qrCenterX = qrBounds.left + qrBounds.width / 2
frameCenterX = frameWidth / 2

qrOnLeft = (qrCenterX < frameCenterX)

if (qrOnLeft) {
  // QR bal oldalt â†’ Ikonok kÃ¶zÃ©pre (jobb kÃ©z pozÃ­ciÃ³)
  leftPadding = centerPadding + 10
  
} else {
  // QR jobb oldalt â†’ Ikonok balrÃ¡bb (bal kÃ©z, ujj elkerÃ¼lÃ©s)
  fingerOffset = width Ã— 0.04  // 4%
  leftPadding = centerPadding - fingerOffset - 10
}
```

**Dark Pixel Ratio PÃ©ldÃ¡k:**

```
Ãœres szegmens:
  darkPixels = 50 / 10000 = 0.005 (0.5%) â†’ KÃ¼szÃ¶b hatÃ¡rÃ¡n
  
Ikon szegmens (nyÃ­l):
  darkPixels = 800 / 10000 = 0.08 (8%) â†’ DetektÃ¡lt âœ“
  
Kicsi folt (zaj):
  darkPixels = 30 / 10000 = 0.003 (0.3%) â†’ Nem detektÃ¡lt
```

---

## ğŸ“± RendszerkÃ¶vetelmÃ©nyek

### iOS
- **VerziÃ³**: iOS 13.0 vagy Ãºjabb
- **EszkÃ¶zÃ¶k**: iPhone 7 vagy Ãºjabb
- **Kamera**: Minimum 8MP

### Android
- **VerziÃ³**: Android 6.0 (API 23) vagy Ãºjabb
- **EszkÃ¶zÃ¶k**: Mid-range vagy jobb
- **Kamera**: Minimum 8MP
- **RAM**: Minimum 2GB

---

## ğŸ”’ AdatvÃ©delem

- âœ… **Helyi feldolgozÃ¡s**: Minden kÃ©p a telefonon kerÃ¼l feldolgozÃ¡sra
- âœ… **Nincs feltÃ¶ltÃ©s**: FotÃ³k nem kerÃ¼lnek szerverre
- âœ… **FelhasznÃ¡lÃ³i kontroll**: Csak te dÃ¶ntÃ¶d el, mit osztasz meg
- âœ… **Nincs adatgyÅ±jtÃ©s**: Az alkalmazÃ¡s nem gyÅ±jt szemÃ©lyes adatokat

---

## ğŸ“ TÃ¡mogatÃ¡s

### Gyakori KÃ©rdÃ©sek (FAQ)

**K: MÅ±kÃ¶dik internet nÃ©lkÃ¼l?**  
V: Igen! Az Ã¶sszes feldolgozÃ¡s helyben tÃ¶rtÃ©nik.

**K: HÃ¡ny fÃ¼zet oldalt tudok szkennelni?**  
V: Nincs limit, a telefonod tÃ¡rhelyÃ©tÅ‘l fÃ¼gg.

**K: Mi a maximum fotÃ³ felbontÃ¡s?**  
V: A telefonod kamerÃ¡jÃ¡nak maximumÃ¡t hasznÃ¡lja.

**K: TÃ¡mogatja a tablet-eket?**  
V: Igen, bÃ¡rmely iOS/Android eszkÃ¶zt.

---

## ğŸ†• VerziÃ³tÃ¶rtÃ©net

### v1.0.0 (2025.01.07)
- âœ¨ Automatikus dokumentum detektÃ¡lÃ¡s
- âœ¨ QR kÃ³d pozÃ­cionÃ¡lÃ¡s
- âœ¨ ProfesszionÃ¡lis szkennelÃ©s
- âœ¨ Ikon detektÃ¡lÃ¡s (7 ikon)
- âœ¨ MegosztÃ¡s funkciÃ³
- âœ¨ VillanÃ³ tÃ¡mogatÃ¡s
- âœ¨ Tap-to-focus

---

## ğŸ† KÃ©szÃ­tette

**BERRÄª Team**  
Marton Szabolcs - Lead Developer

---

**Ã‰lvezd a szkennelÃ©st! ğŸ“¸âœ¨**
